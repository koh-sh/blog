{{ define "main" }}
<article>
  <h1>{{ .Title }}</h1>
  <ul class="posts-list">
    {{ $paginator := cond .IsHome (.Paginate (where .Site.RegularPages "Section" "posts")) .Paginator }}
    {{ range $paginator.Pages }}
    <li class="posts-list-item">
      <a class="posts-list-item-title" href="{{ .RelPermalink }}">{{ .Title }}<br></a>
      {{ .Content | plainify | strings.Truncate $.Site.Params.truncateLength }}
      {{ if .Truncated }} ... {{ end }}
      <span class="posts-list-item-description">
        {{ partial "icon.html" (dict "ctx" $ "name" "calendar") }}
        {{ .PublishDate.Format "Jan 2, 2006" }}
        <span class="posts-list-item-separator">-</span>
        {{ partial "icon.html" (dict "ctx" $ "name" "clock") }}
        {{ .ReadingTime }} min read
      </span>
    </li>
    {{ end }}
    {{ if gt $paginator.TotalPages 1 }}
    {{ partial "pagination.html" $ }}
    {{ end }}
  </ul>
</article>
{{ end }}
